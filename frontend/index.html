<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RayVin - AI Radiology Assistant</title>
  <link rel="icon" type="image/png" href="assets/rayvinc.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body data-page="login">
  <div class="login-page">
    <div class="login-branding">
      <div class="branding-content">
        <div class="branding-icon" style="background: transparent; border: none; width: auto; height: auto;">
          <img src="assets/rayvinc.png" alt="RayVin Logo" style="width: 120px; height: 120px; object-fit: contain; filter: drop-shadow(0 0 20px rgba(59, 130, 246, 0.5)) drop-shadow(0 0 40px rgba(20, 184, 166, 0.3));">
        </div>
        <h1 class="branding-title">RayVin</h1>
        <p class="branding-subtitle">AI-powered medical imaging analysis with clinical recommendations</p>
        
        <div class="modality-badges">
          <span class="modality-badge">X-Ray</span>
          <span class="modality-badge">CT Scan</span>
          <span class="modality-badge">MRI</span>
        </div>
        
        <div class="features-list">
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="18" height="18" fill="none" stroke="white" stroke-width="1.5" viewBox="0 0 24 24">
                <rect x="3" y="3" width="18" height="18" rx="2"/>
                <circle cx="8.5" cy="8.5" r="1.5"/>
                <path d="M21 15l-5-5L5 21"/>
              </svg>
            </div>
            <div class="feature-text">
              <strong>DICOM Analysis</strong>
              Upload and analyze medical imaging files with AI detection
            </div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="18" height="18" fill="none" stroke="white" stroke-width="1.5" viewBox="0 0 24 24">
                <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
                <path d="M14 2v6h6M16 13H8M16 17H8"/>
              </svg>
            </div>
            <div class="feature-text">
              <strong>Clinical Recommendations</strong>
              AI-generated reports with GPT-4 powered insights
            </div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="18" height="18" fill="none" stroke="white" stroke-width="1.5" viewBox="0 0 24 24">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
              </svg>
            </div>
            <div class="feature-text">
              <strong>Role-Based Access</strong>
              Secure authentication for admins, radiologists, and clinical staff
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="login-form-section">
      <div class="login-form-container">
        <!-- Tab Switcher -->
        <div class="auth-tabs">
          <button class="auth-tab active" data-tab="signin" onclick="switchTab('signin')">Sign In</button>
          <button class="auth-tab" data-tab="signup" onclick="switchTab('signup')">Sign Up</button>
        </div>

        <!-- Error/Success Message -->
        <div class="auth-message" id="auth-message"></div>

        <!-- Sign In Form -->
        <form id="signin-form" class="auth-form">
          <div class="form-group">
            <label class="form-label" for="signin-username">Username</label>
            <input type="text" id="signin-username" class="form-input" placeholder="Enter your username" required autocomplete="username">
          </div>
          
          <div class="form-group">
            <label class="form-label" for="signin-password">Password</label>
            <div class="input-wrapper">
              <input type="password" id="signin-password" class="form-input" placeholder="Enter your password" required autocomplete="current-password" style="padding-right: 44px;">
              <button type="button" class="password-toggle" onclick="togglePassword('signin-password')" aria-label="Toggle password visibility">
                <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                  <circle cx="12" cy="12" r="3"/>
                </svg>
              </button>
            </div>
          </div>

          <button type="submit" class="btn btn-primary" id="signin-btn" style="width: 100%; margin-top: 8px;">Sign In</button>
          
          <div class="forgot-password-link" style="text-align: center; margin-top: 16px;">
            <a href="reset-password.html" style="color: #60a5fa; text-decoration: none; font-size: 14px;">Forgot your password?</a>
          </div>
        </form>

        <!-- Sign Up Form -->
        <form id="signup-form" class="auth-form hidden">
          <div class="form-group">
            <label class="form-label" for="signup-username">Username *</label>
            <input type="text" id="signup-username" class="form-input" placeholder="Choose a username" required autocomplete="username">
          </div>

          <div class="form-group">
            <label class="form-label" for="signup-fullname">Full Name</label>
            <input type="text" id="signup-fullname" class="form-input" placeholder="Dr. John Smith" autocomplete="name">
          </div>

          <div class="form-group">
            <label class="form-label" for="signup-email">Email * <span style="color: #64748b; font-size: 12px;">(for verification)</span></label>
            <input type="email" id="signup-email" class="form-input" placeholder="john.smith@hospital.org" autocomplete="email" required>
          </div>

          <div class="form-group">
            <label class="form-label" for="signup-role">Role</label>
            <select id="signup-role" class="form-input">
              <option value="user">Clinical User</option>
              <option value="radiologist">Radiologist</option>
            </select>
          </div>
          
          <div class="form-group">
            <label class="form-label" for="signup-password">Password *</label>
            <div class="input-wrapper">
              <input type="password" id="signup-password" class="form-input" placeholder="Create a password" required autocomplete="new-password" style="padding-right: 44px;">
              <button type="button" class="password-toggle" onclick="togglePassword('signup-password')" aria-label="Toggle password visibility">
                <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                  <circle cx="12" cy="12" r="3"/>
                </svg>
              </button>
            </div>
          </div>

          <button type="submit" class="btn btn-primary" id="signup-btn" style="width: 100%; margin-top: 8px;">Create Account</button>
        </form>

        <div class="login-footer">
          <p>For authorized medical personnel only</p>
        </div>
      </div>
    </div>
  </div>

  <script src="js/api.js"></script>
  <script src="js/app.js"></script>
  <script>
    function switchTab(tab) {
      // Update tabs
      document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
      document.querySelector(`[data-tab="${tab}"]`).classList.add('active');
      
      // Update forms
      document.querySelectorAll('.auth-form').forEach(f => f.classList.add('hidden'));
      document.getElementById(`${tab}-form`).classList.remove('hidden');
      
      // Clear message
      hideMessage();
    }

    function togglePassword(inputId) {
      const input = document.getElementById(inputId);
      const icon = input.nextElementSibling.querySelector('svg');
      
      if (input.type === 'password') {
        input.type = 'text';
        icon.innerHTML = '<path d="M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/>';
      } else {
        input.type = 'password';
        icon.innerHTML = '<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/>';
      }
    }

    function showMessage(msg, type) {
      const el = document.getElementById('auth-message');
      el.textContent = msg;
      el.className = `auth-message ${type}`;
    }

    function hideMessage() {
      const el = document.getElementById('auth-message');
      el.className = 'auth-message';
      el.textContent = '';
    }
  </script>
</body>
</html>
